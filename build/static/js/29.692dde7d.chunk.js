(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[29],{967:function(e,a,t){},997:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return H}));var r=t(0),n=t.n(r),l=t(14),c=t(15),i=t(17),o=t(16),u=t(617),m=t(618),d=t(516),s=t(62),p=t(131),E=t(615),f=t(683),b=t(684),v=t(616),j=t(271),g=t(584),h=t(495),q=t(178),O=t(187),N=t(1003),y=t(977),_=t(978),S=t(979),w=t(499),C=t(498);function k(e){var a=e.show,t=e.closeModal,r=e.id,l=e.deleteProjects,c=function(){a&&t(!1),t(!0)},i=function(e){l(r),w.a.delete("pr_contact/delete/".concat(r)).then((function(e){var a;a="\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!",C.b.success(a)})).catch((function(e){var a;a="\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.message),C.b.warning(a)}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{isOpen:a,toggle:c,className:"modal-dialog-centered"},n.a.createElement(y.a,{toggle:c,className:"bg-danger"},"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435"),n.a.createElement(_.a,{className:"modal-dialog-centered"},"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442?"),n.a.createElement(S.a,null,n.a.createElement(j.a,{color:"danger",onClick:function(e){i(),c()}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}var R=t(4),x=t(942),P=t(943),F=t(496),T=t(507),L=(t(531),t(534),t(512)),M=t(511),z=t(513),U=(t(510),t(503),t(504),t(514)),A=t.n(U),D=M.a().shape({required:M.b().required("Required"),minlength:M.b().min(4,"Too Short!").required("Required"),maxlength:M.b().max(5,"Too Long!").required("Required")});function I(e){var a=e.show,t=e.closeModalAdd,l=e.addProjects,c=e.projects,i=Object(r.useState)([]),o=Object(p.a)(i,2),u=o[0],m=o[1],d=Object(r.useState)({image:null}),s=Object(p.a)(d,2),f=(s[0],s[1],Object(r.useState)({project_id:null,adress:null,phone:null,email:null,url:null})),b=Object(p.a)(f,2),g=b[0],h=b[1],q=function(){a&&t(!1),t(!0)},O=Object(r.useState)({editorState:T.EditorState.createEmpty()}),S=Object(p.a)(O,2),k=(S[0],S[1],Object(z.a)({accept:"image/*",onDrop:function(e){m(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}})),M=(k.getRootProps,k.getInputProps,function(e){e.preventDefault();var a=new A.a;a.append("project_id",g.project_id),a.append("adress",g.adress),a.append("phone",g.phone),a.append("email",g.email),a.append("url",g.url),w.a.post("pr_contact/create",a).then((function(e){var a;q(),l(g),a="\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0431\u044b\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!",C.b.success(a)})).catch((function(e){var a;a="\u0423\u043f\u0441, \u043e\u0448\u0438\u0431\u043a\u0430 , ".concat(e.message),C.b.error(a)}))});u.map((function(e){return n.a.createElement("div",{className:"dz-thumb",key:e.name},n.a.createElement("div",{className:"dz-thumb-inner"},n.a.createElement("img",{src:e.preview,className:"dz-img",alt:e.name})))}));return Object(r.useEffect)((function(){return function(){u.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[u]),n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{isOpen:a,toggle:q,className:"modal-dialog-centered modal-lg"},n.a.createElement(y.a,{toggle:q,className:"bg-primary"},"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),n.a.createElement(_.a,{className:"modal-dialog-centered"},n.a.createElement(L.c,{initialValues:{required:"",name:"",date:"",minlength:"",maxlength:""},validationSchema:D},(function(e){var a=e.errors,t=e.touched;return n.a.createElement(L.b,{className:"w-100",onSubmit:M},n.a.createElement(E.a,null,n.a.createElement(v.a,{className:"rdt_Wrapper"},n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"\u0416\u0438\u043b\u043e\u0439 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441"),n.a.createElement(F.a,{type:"select",name:"select",id:"city",onChange:function(e){h(Object(R.a)(Object(R.a)({},g),{},{project_id:e.target.value}))}},n.a.createElement("option",{value:""}),null===c||void 0===c?void 0:c.map((function(e,a){return n.a.createElement("option",{value:e.id,key:a},e.title)})))),n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"\u0410\u0434\u0440\u0435\u0441\u0441"),n.a.createElement(L.a,{name:"url",id:"required",onChange:function(e){return h(Object(R.a)(Object(R.a)({},g),{},{adress:e.target.value}))},className:"form-control ".concat(a.required&&t.required&&"is-invalid")}),a.required&&t.required?n.a.createElement("div",{className:"invalid-tooltip mt-25"},a.required):null),n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"E-mail(\u043f\u043e\u0447\u0442\u0430)"),n.a.createElement(L.a,{name:"url",id:"required",onChange:function(e){return h(Object(R.a)(Object(R.a)({},g),{},{email:e.target.value}))},className:"form-control ".concat(a.required&&t.required&&"is-invalid")}),a.required&&t.required?n.a.createElement("div",{className:"invalid-tooltip mt-25"},a.required):null),n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"),n.a.createElement(L.a,{name:"url",id:"required",onChange:function(e){return h(Object(R.a)(Object(R.a)({},g),{},{url:e.target.value}))},className:"form-control ".concat(a.required&&t.required&&"is-invalid")}),a.required&&t.required?n.a.createElement("div",{className:"invalid-tooltip mt-25"},a.required):null),n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),n.a.createElement(L.a,{name:"url",id:"required",onChange:function(e){return h(Object(R.a)(Object(R.a)({},g),{},{phone:e.target.value}))},className:"form-control ".concat(a.required&&t.required&&"is-invalid")}),a.required&&t.required?n.a.createElement("div",{className:"invalid-tooltip mt-25"},a.required):null))),n.a.createElement(j.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))})))))}t(535);var W=M.a().shape({required:M.b().required("Required"),minlength:M.b().min(4,"Too Short!").required("Required"),maxlength:M.b().max(5,"Too Long!").required("Required")});function B(e){var a=e.show,t=e.closeModalEdit,l=e.editProjects,c=e.project,i=e.projects,o=Object(r.useState)({id:null,project_id:null,adress:null,phone:null,email:null,url:null}),u=Object(p.a)(o,2),m=u[0],d=u[1];Object(r.useEffect)((function(){d({id:c.id,project_id:c.project_id,adress:c.adress,phone:c.phone,email:c.email,url:c.url})}),[c]);var s=function(){a&&t(!1),t(!0)},f=function(e){e.preventDefault();var a=new A.a;a.append("project_id",m.project_id),a.append("adress",m.adress),a.append("phone",m.phone),a.append("email",m.email),a.append("url",m.url),w.a.put("pr_contact/update/".concat(m.id),a).then((function(e){var a;l(m),s(),a="\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d!",C.b.success(a)})).catch((function(e){var a;a="\u041e \u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 , ".concat(e.message),C.b.error(a)}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{isOpen:a,toggle:s,className:"modal-dialog-centered modal-lg"},n.a.createElement(y.a,{toggle:s,className:"bg-primary"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),n.a.createElement(_.a,{className:"modal-dialog-centered"},n.a.createElement(L.c,{initialValues:{required:"",name:"",date:"",minlength:"",maxlength:""},validationSchema:W},(function(e){var a=e.errors,t=e.touched;return n.a.createElement(L.b,{className:"w-100",onSubmit:f},n.a.createElement(E.a,null,n.a.createElement(v.a,{className:"rdt_Wrapper"},n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"\u0416\u0438\u043b\u043e\u0439 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441"),n.a.createElement(F.a,{type:"select",name:"select",id:"city",onChange:function(e){d(Object(R.a)(Object(R.a)({},m),{},{project_id:e.target.value}))}},n.a.createElement("option",{value:""}),null===i||void 0===i?void 0:i.map((function(e,a){return n.a.createElement("option",{value:e.id,key:a},e.title)})))),n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"\u0410\u0434\u0440\u0435\u0441\u0441"),n.a.createElement(L.a,{name:"url",id:"required",value:m.adress,onChange:function(e){return d(Object(R.a)(Object(R.a)({},m),{},{adress:e.target.value}))},className:"form-control ".concat(a.required&&t.required&&"is-invalid")}),a.required&&t.required?n.a.createElement("div",{className:"invalid-tooltip mt-25"},a.required):null),n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"E-mail(\u043f\u043e\u0447\u0442\u0430)"),n.a.createElement(L.a,{name:"url",id:"required",value:m.email,onChange:function(e){return d(Object(R.a)(Object(R.a)({},m),{},{email:e.target.value}))},className:"form-control ".concat(a.required&&t.required&&"is-invalid")}),a.required&&t.required?n.a.createElement("div",{className:"invalid-tooltip mt-25"},a.required):null),n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"),n.a.createElement(L.a,{name:"url",id:"required",value:m.url,onChange:function(e){return d(Object(R.a)(Object(R.a)({},m),{},{url:e.target.value}))},className:"form-control ".concat(a.required&&t.required&&"is-invalid")}),a.required&&t.required?n.a.createElement("div",{className:"invalid-tooltip mt-25"},a.required):null),n.a.createElement(x.a,{className:"my-3"},n.a.createElement(P.a,{for:"required"},"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),n.a.createElement(L.a,{name:"url",id:"required",value:m.phone,onChange:function(e){return d(Object(R.a)(Object(R.a)({},m),{},{phone:e.target.value}))},className:"form-control ".concat(a.required&&t.required&&"is-invalid")}),a.required&&t.required?n.a.createElement("div",{className:"invalid-tooltip mt-25"},a.required):null))),n.a.createElement(j.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))})))))}var J=t(517);t(505),t(506),t(967);function V(){var e=Object(r.useState)([]),a=Object(p.a)(e,2),t=a[0],l=a[1],c=Object(r.useState)([]),i=Object(p.a)(c,2),o=i[0],u=i[1],m=Object(r.useState)(""),d=Object(p.a)(m,2),N=(d[0],d[1],Object(r.useState)(!1)),y=Object(p.a)(N,2),_=y[0],S=y[1],C=Object(r.useState)(!1),R=Object(p.a)(C,2),x=R[0],P=R[1],F=Object(r.useState)(!1),T=Object(p.a)(F,2),L=T[0],M=T[1],z=Object(r.useState)([]),U=Object(p.a)(z,2),A=U[0],D=U[1],W=Object(r.useState)(),V=Object(p.a)(W,2),G=V[0],H=V[1];Object(r.useEffect)((function(){w.a.get("/pr_contact").then((function(e){l(e.data.pr_layouts)})),w.a.get("/projects").then((function(e){u(e.data.projects)}))}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.a,null,n.a.createElement(k,{show:_,deleteProjects:function(e){var a=t.findIndex((function(a){return a.id===e}));t.splice(a,1)},closeModal:function(e){S(!1)},id:G}),n.a.createElement(I,{show:x,addProjects:function(e){l((function(a){return[].concat(Object(s.a)(a),[{el:e}])}))},closeModalAdd:function(e){P(!1)},projects:o}),n.a.createElement(B,{show:L,editProjects:function(e){var a=t.findIndex((function(a){return a.id===e.id}));t[a].project_id=e.project_id,t[a].adress=e.adress,t[a].phone=e.phone,t[a].email=e.email,t[a].url=e.url},closeModalEdit:function(e){M(!1)},project:A,projects:o}),n.a.createElement(f.a,null,n.a.createElement(b.a,null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b")),n.a.createElement(v.a,{className:"rdt_Wrapper"},n.a.createElement(J.a,null),n.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},n.a.createElement("div",{className:"add-new"},n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a.Ripple,{color:"primary",onClick:function(){P(!0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435"))),n.a.createElement("div",{className:"position-relative has-icon-left mb-1"})),n.a.createElement(g.a,{className:"table-hover-animation",responsive:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\u2116"),n.a.createElement("th",null,"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"),n.a.createElement("th",null,"\u0410\u0434\u0440\u0435\u0441"),n.a.createElement("th",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),n.a.createElement("th",null,"E-mail"),n.a.createElement("th",null,"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443"),n.a.createElement("th",null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),n.a.createElement("tbody",null,null===t||void 0===t?void 0:t.map((function(e,a){return n.a.createElement("tr",{key:a},n.a.createElement("th",{scope:"row"},a+1),n.a.createElement("td",null,function(e){return o.map((function(a,t){if(a.id===e.project_id)return n.a.createElement("div",{key:t},a.title)}))}(e)),n.a.createElement("td",null,e.adress," "),n.a.createElement("td",null,e.phone," "),n.a.createElement("td",null,e.email," "),n.a.createElement("td",null,n.a.createElement("a",{href:e.url,target:"_blanck"},e.url)),n.a.createElement("td",null,n.a.createElement("div",{className:"d-flex"},n.a.createElement(q.a,{size:20,outline:!0,id:"positionTop",onClick:function(){M(!0),D(e)}}),n.a.createElement(h.a,{placement:"top",target:"positionTop"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),n.a.createElement(O.a,{size:20,className:"ml-2",outline:!0,id:"positionBottom",onClick:function(){S(!0),H(e.id)}}),n.a.createElement(h.a,{placement:"bottom",target:"positionBottom"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))})))))))}var G=function(e){Object(i.a)(t,e);var a=Object(o.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{breadCrumbTitle:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",breadCrumbParent:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",breadCrumbActive:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),n.a.createElement(u.a,null,n.a.createElement(m.a,{sm:"12"},n.a.createElement(V,null))))}}]),t}(n.a.Component);function H(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(G,null))}}}]);
//# sourceMappingURL=29.692dde7d.chunk.js.map