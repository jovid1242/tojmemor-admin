(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[30],{966:function(e,t,a){},996:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return H}));var n=a(0),c=a.n(n),r=a(14),l=a(15),i=a(17),m=a(16),o=a(617),s=a(618),u=a(516),d=a(62),p=a(131),E=a(615),b=a(683),f=a(684),g=a(616),j=a(271),v=a(584),O=a(495),h=a(178),N=a(187),y=a(1003),S=a(977),w=a(978),_=a(979),R=a(499),q=a(498);function x(e){var t=e.show,a=e.closeModal,n=e.id,r=e.deleteProjects,l=function(){t&&a(!1),a(!0)},i=function(e){r(n),R.a.delete("pr_slider/delete/".concat(n)).then((function(e){var t;t="\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0431\u044b\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430!",q.b.success(t)})).catch((function(e){var t;t="\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.message),q.b.warning(t)}))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{isOpen:t,toggle:l,className:"modal-dialog-centered"},c.a.createElement(S.a,{toggle:l,className:"bg-danger"},"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435"),c.a.createElement(w.a,{className:"modal-dialog-centered"},"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442?"),c.a.createElement(_.a,null,c.a.createElement(j.a,{color:"danger",onClick:function(e){i(),l()}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}var z=a(4),k=a(942),L=a(943),C=a(496),U=a(507),P=(a(531),a(534),a(512)),F=a(511),T=a(513),M=(a(510),a(503),a(504),a(514)),W=a.n(M),D=F.a().shape({required:F.b().required("Required"),minlength:F.b().min(4,"Too Short!").required("Required"),maxlength:F.b().max(5,"Too Long!").required("Required")});function I(e){var t=e.show,a=e.closeModalAdd,r=e.addProjects,l=e.projects,i=Object(n.useState)([]),m=Object(p.a)(i,2),o=m[0],s=m[1],u=Object(n.useState)({image:null}),d=Object(p.a)(u,2),b=d[0],f=d[1],v=Object(n.useState)({project_id:null,file:null}),O=Object(p.a)(v,2),h=O[0],N=O[1],_=function(){t&&a(!1),a(!0)},x=Object(n.useState)({editorState:U.EditorState.createEmpty()}),F=Object(p.a)(x,2),M=(F[0],F[1],function(e){if(N(Object(z.a)(Object(z.a)({},h),{},{file:e.target.files[0]})),e.target.files&&e.target.files[0]){var t=e.target.files[0];f({image:URL.createObjectURL(t)})}}),I=Object(T.a)({accept:"image/*",onDrop:function(e){s(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),A=I.getRootProps,B=I.getInputProps,J=function(e){e.preventDefault();var t=new W.a;t.append("project_id",h.project_id),t.append("image",h.file),R.a.post("pr_slider/create",t).then((function(e){var t;_(),r(h.project_id,b.image),t="\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430!",q.b.success(t)})).catch((function(e){var t;t="\u0423\u043f\u0441, \u043e\u0448\u0438\u0431\u043a\u0430 , ".concat(e.message),q.b.error(t)}))};o.map((function(e){return c.a.createElement("div",{className:"dz-thumb",key:e.name},c.a.createElement("div",{className:"dz-thumb-inner"},c.a.createElement("img",{src:e.preview,className:"dz-img",alt:e.name})))}));return Object(n.useEffect)((function(){return function(){o.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[o]),c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{isOpen:t,toggle:_,className:"modal-dialog-centered modal-lg"},c.a.createElement(S.a,{toggle:_,className:"bg-primary"},"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),c.a.createElement(w.a,{className:"modal-dialog-centered"},c.a.createElement(P.c,{initialValues:{required:"",name:"",date:"",minlength:"",maxlength:""},validationSchema:D},(function(e){e.errors,e.touched;return c.a.createElement(P.b,{className:"w-100",onSubmit:J},c.a.createElement(E.a,null,c.a.createElement(g.a,{className:"rdt_Wrapper"},c.a.createElement(k.a,{className:"my-3"},c.a.createElement(L.a,{for:"required"},"\u0416\u0438\u043b\u043e\u0439 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441"),c.a.createElement(C.a,{type:"select",name:"select",id:"city",onChange:function(e){N(Object(z.a)(Object(z.a)({},h),{},{project_id:e.target.value}))}},c.a.createElement("option",{value:""}),null===l||void 0===l?void 0:l.map((function(e,t){return c.a.createElement("option",{value:e.id,key:t},e.title)})))))),c.a.createElement(E.a,null,c.a.createElement(g.a,{className:"rdt_Wrapper"},c.a.createElement("section",null,c.a.createElement("div",A({className:"dropzone"}),c.a.createElement("input",Object.assign({},B(),{onChange:M})),c.a.createElement("p",{className:"mx-1"},"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0444\u0430\u0439\u043b \u0438\u043b\u0438 \u0449\u0435\u043b\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b")),c.a.createElement("aside",{className:"thumb-container"},c.a.createElement("div",{className:"dz-thumb"},c.a.createElement("div",{className:"dz-thumb-inner"},null!==b.image?c.a.createElement("img",{src:b.image,className:"dz-img",alt:"dd"}):null)))))),c.a.createElement(j.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))})))))}a(535);var A=F.a().shape({required:F.b().required("Required"),minlength:F.b().min(4,"Too Short!").required("Required"),maxlength:F.b().max(5,"Too Long!").required("Required")});function B(e){var t=e.show,a=e.closeModalEdit,r=e.editProjects,l=e.project,i=e.projects,m=Object(n.useState)([]),o=Object(p.a)(m,2),s=o[0],u=o[1],d=Object(n.useState)({editorState:U.EditorState.createEmpty()}),b=Object(p.a)(d,2),f=(b[0],b[1],Object(n.useState)({image:null})),v=Object(p.a)(f,2),O=v[0],h=v[1],N=Object(n.useState)({id:null,project_id:null,file:null}),_=Object(p.a)(N,2),x=_[0],F=_[1];Object(n.useEffect)((function(){F({id:l.id,project_id:l.project_id,file:l.image}),h({image:l.image})}),[l]);var M=function(){t&&a(!1),a(!0)},D=function(e){if(F(Object(z.a)(Object(z.a)({},x),{},{file:e.target.files[0]})),e.target.files&&e.target.files[0]){var t=e.target.files[0];h({image:URL.createObjectURL(t)})}},I=Object(T.a)({accept:"image/*",onDrop:function(e){u(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),B=I.getRootProps,J=I.getInputProps,V=function(e){e.preventDefault();var t=new W.a;t.append("project_id",x.project_id),t.append("image",x.file),R.a.put("pr_slider/update/".concat(x.id),t).then((function(e){var t;r(x,O.image),M(),t="\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430!",q.b.success(t)})).catch((function(e){var t;t="\u041e \u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 , ".concat(e.message),q.b.error(t)}))};s.map((function(e){return c.a.createElement("div",{className:"dz-thumb",key:e.name},c.a.createElement("div",{className:"dz-thumb-inner"},c.a.createElement("img",{src:e.preview,className:"dz-img",alt:e.name})))}));return Object(n.useEffect)((function(){return function(){s.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[s]),c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{isOpen:t,toggle:M,className:"modal-dialog-centered modal-lg"},c.a.createElement(S.a,{toggle:M,className:"bg-primary"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),c.a.createElement(w.a,{className:"modal-dialog-centered"},c.a.createElement(P.c,{initialValues:{required:"",name:"",date:"",minlength:"",maxlength:""},validationSchema:A},(function(e){e.errors,e.touched;return c.a.createElement(P.b,{className:"w-100",onSubmit:V},c.a.createElement(E.a,null,c.a.createElement(g.a,{className:"rdt_Wrapper"},c.a.createElement(k.a,{className:"my-3"},c.a.createElement(L.a,{for:"required"},"\u0416\u0438\u043b\u043e\u0439 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441"),c.a.createElement(C.a,{type:"select",name:"select",id:"city",onChange:function(e){F(Object(z.a)(Object(z.a)({},x),{},{project_id:e.target.value}))}},c.a.createElement("option",{value:""}),null===i||void 0===i?void 0:i.map((function(e,t){return c.a.createElement("option",{value:e.id,key:t},e.title)})))))),c.a.createElement(E.a,null,c.a.createElement(g.a,{className:"rdt_Wrapper"},c.a.createElement("section",null,c.a.createElement("div",B({className:"dropzone"}),c.a.createElement("input",Object.assign({},J(),{onChange:D})),c.a.createElement("p",{className:"mx-1"},"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0444\u0430\u0439\u043b \u0438\u043b\u0438 \u0449\u0435\u043b\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b")),c.a.createElement("aside",{className:"thumb-container"},c.a.createElement("div",{className:"dz-thumb"},c.a.createElement("div",{className:"dz-thumb-inner"},null!==O.image?c.a.createElement("img",{src:O.image,className:"dz-img",alt:"dd"}):null)))))),c.a.createElement(j.a.Ripple,{color:"primary",type:"submit",className:"mt-2"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))})))))}var J=a(517);a(505),a(506),a(966);function V(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),i=Object(p.a)(l,2),m=i[0],o=i[1],s=Object(n.useState)(""),u=Object(p.a)(s,2),y=(u[0],u[1],Object(n.useState)(!1)),S=Object(p.a)(y,2),w=S[0],_=S[1],q=Object(n.useState)(!1),z=Object(p.a)(q,2),k=z[0],L=z[1],C=Object(n.useState)(!1),U=Object(p.a)(C,2),P=U[0],F=U[1],T=Object(n.useState)([]),M=Object(p.a)(T,2),W=M[0],D=M[1],A=Object(n.useState)(),V=Object(p.a)(A,2),G=V[0],H=V[1];Object(n.useEffect)((function(){R.a.get("/pr_slider").then((function(e){r(e.data.pr_sliders)})),R.a.get("/projects").then((function(e){o(e.data.projects)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,null,c.a.createElement(x,{show:w,deleteProjects:function(e){var t=a.findIndex((function(t){return t.id===e}));a.splice(t,1)},closeModal:function(e){_(!1)},id:G}),c.a.createElement(I,{show:k,addProjects:function(e,t){r((function(a){return[].concat(Object(d.a)(a),[{project_id:e,image:t}])}))},closeModalAdd:function(e){L(!1)},projects:m}),c.a.createElement(B,{show:P,editProjects:function(e,t){var n=a.findIndex((function(t){return t.id===e.id}));a[n].title=e.title,a[n].text=e.text,a[n].url=e.url,a[n].image=null===t?e.file:t},closeModalEdit:function(e){F(!1)},project:W,projects:m}),c.a.createElement(b.a,null,c.a.createElement(f.a,null,"\u0421\u043b\u0430\u0439\u0434\u0435\u0440")),c.a.createElement(g.a,{className:"rdt_Wrapper"},c.a.createElement(J.a,null),c.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},c.a.createElement("div",{className:"add-new"},c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a.Ripple,{color:"primary",onClick:function(){L(!0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435"))),c.a.createElement("div",{className:"position-relative has-icon-left mb-1"})),c.a.createElement(v.a,{className:"table-hover-animation",responsive:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\u2116"),c.a.createElement("th",null,"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"),c.a.createElement("th",null,"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"),c.a.createElement("th",null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),c.a.createElement("tbody",null,null===a||void 0===a?void 0:a.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("th",{scope:"row"},t+1),c.a.createElement("td",null,function(e){return m.map((function(t,a){if(t.id===e.project_id)return c.a.createElement("div",{key:a},t.title)}))}(e)),c.a.createElement("td",null," ",c.a.createElement("img",{src:e.image,alt:"img-news",className:"img__news"})," "),c.a.createElement("td",null,c.a.createElement("div",{className:"d-flex"},c.a.createElement(h.a,{size:20,outline:!0,id:"positionTop",onClick:function(){F(!0),D(e)}}),c.a.createElement(O.a,{placement:"top",target:"positionTop"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),c.a.createElement(N.a,{size:20,className:"ml-2",outline:!0,id:"positionBottom",onClick:function(){_(!0),H(e.id)}}),c.a.createElement(O.a,{placement:"bottom",target:"positionBottom"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))})))))))}var G=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{breadCrumbTitle:"\u0421\u043b\u0430\u0439\u0434\u0435\u0440",breadCrumbParent:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",breadCrumbActive:"\u0421\u043b\u0430\u0439\u0434\u0435\u0440"}),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:"12"},c.a.createElement(V,null))))}}]),a}(c.a.Component);function H(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(G,null))}}}]);
//# sourceMappingURL=30.25aeee3f.chunk.js.map